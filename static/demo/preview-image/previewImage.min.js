!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("previewImage",[],n):"object"==typeof exports?exports.previewImage=n():e.previewImage=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";function r(e){if(e=e||{},!e.urls&&Array.isArray(e.urls))return void console.error("urls is required and should be an Array");if(e.index<0||e.index>=e.urls.length)return void console.error("error index ");for(var n in e)h[n]=e[n];v=e.index||0,o()}function o(){f=document.createElement("div"),f.className="preview-image-root-container",f.innerHTML='<div class="preview-image-container" id="preview-image-container">'+i()+'</div><div class="optional-render"></div>',h.containerEle.appendChild(f),g=document.getElementById("preview-image-container"),g.style.width=100*h.urls.length+"vw",g.addEventListener("touchstart",a),g.addEventListener("touchmove",l),g.addEventListener("touchend",A),s(v)}function i(){var e="";for(var n in h.urls)e+='<div class="image-cover loading '+h.transition+'" id="preview-image-container-id'+n+'">\n              <img/></div>';return e}function a(e){g.style.transition="none",y={x:e.touches[0].clientX,y:e.touches[0].clientY,time:(new Date).getTime()}}function l(){var e=event.touches[0];g.style.transform="translateX("+(e.clientX-y.x-v*window.screen.width)+"px)"}function A(e){e.preventDefault();var n=e.changedTouches[0];if(n.clientX-y.x<0-h.offset&&v!==h.urls.length-1)s(++v);else if(n.clientX-y.x>h.offset&&0!==v)s(--v);else{var t=Math.pow(y.x-n.clientX,2)+Math.pow(y.y-n.clientY,2);t<Math.pow(10,2)&&(new Date).getTime()-y.time<300?h.clickToHide&&p():g.style.transform="translateX("+-v*window.screen.width+"px)"}}function s(e){g.style.transition="transform 100ms",g.style.transform="translateX("+-e*window.screen.width+"px)",c(e),u(e),h.smoothly&&(u(Math.max(0,e-1)),u(Math.min(e+1,h.urls.length-1)))}function d(e){var n=h.urls[e];return n?"string"==typeof n?n:n[h.urlLabel||"url"]:h.picUrl}function c(e){var n=h.urls[e];if("string"!=typeof n&&n.optionalRender){var t="";"string"==typeof n.optionalRender?t=n.optionalRender.replace("{index}",e+1).replace("{total}",h.urls.length):"function"==typeof n.optionalRender&&(t=n.optionalRender(e,h.urls.length)),f.getElementsByClassName("optional-render")[0].style.display="block",f.getElementsByClassName("optional-render")[0].innerHTML=t}else f.getElementsByClassName("optional-render")[0].style.display="none"}function u(e){var n=document.getElementById("preview-image-container-id"+e);if(/loading/.test(n.className)){var t=new Image;t.onload=function(){n.className=n.className.replace(/loading/g,""),n.getElementsByTagName("img")[0].src=d(e)},t.onerror=function(){n.className=n.className.replace(/loading/g,""),n.getElementsByTagName("img")[0].src=m},t.src=d(e)}}function p(){f.parentNode.removeChild(f),f=void 0,g=void 0}var m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAYCAQAAABHYIU0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAfQAAAH0AMQEOAcAAAAHdElNRQffCAIWOxJiZcaiAAABxUlEQVQ4y53UPUjVYRzF8c+tmxgqFYmIRbS21BC9GGJKJrbWELSUYBEaDe0NOVTU2GJhQYEQVBCuTW5BFFHGrXypyBDJKDOh0uuv4Xq913dvZ3ng8Hz/5zxv/4TnqkwrXGuMJFWq/A8UEkmBe3qsLQBLq9YiGBKaC049LgwnYZWp6zTZ7akn0hkiWUDaUZ1K/XBSd3bPVq9GpdioIWsUAqdmxrdZY7HaO332fRH/jk2q9ejKWUNCS96UIz64pWyJ9OKZ8YQwPL92ow7btbisZMFeb8XvfGsu3OCmbb6a0qrd+jnz2nSrm18kV7vegPBSrevSplyZLZnQZlx4pya/dg4+qF94bQ9K3BAmtStCwlk/hQkhpXo+3Gy/98Ib+2a+XKZD+OOiYqeNCY8dkxJ67Z0Ld+oVUg7kLWeD28KER74J3bagVp/wyq7M3c7Af+esJ6tN7goxi0KdAeGZa9JZOPSpXeRUN+sSwiWJWe+QQeFXLrlf/RKXotx9Ydz5vEM97KPIwRcsrQoPhXGteelNPuXgU5ZTuQfCmDN53rncz6DG5DLva9oLtSpcVWlQAmk7MnfniyorKfIq5zSSNKpIrIgvVMLoP/x1qQweYb+nAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTExLTEyVDExOjEwOjE2KzA4OjAwRvrOyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNS0wOC0wMlQyMjo1OToxOCswODowMPgtuC0AAABNdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDcuMC4xLTYgUTE2IHg4Nl82NCAyMDE2LTA5LTE3IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3Jn3dmlTgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMTU1coyr+gAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxOTejxtWHAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE0Mzg1Mjc1NThTJFqXAAAAEnRFWHRUaHVtYjo6U2l6ZQAyLjM1S0JN0kRMAAAAX3RFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L3NpdGUvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL3NyYy8xMTkwOS8xMTkwOTQzLnBuZ94F5egAAAAASUVORK5CYII=",f=void 0,g=void 0,v=0,y={x:0,y:0,time:(new Date).getTime()},h={index:0,urls:[],clickToHide:!0,transition:"slide",offset:75,smoothly:!0,containerEle:document.body,picUrl:m};e.exports=r}])});